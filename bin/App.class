// Source code is decompiled from a .class file using FernFlower decompiler.
import java.io.PrintStream;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class App {
   public App() {
   }

   public static void main(String[] args) throws Exception {
      String url = "jdbc:mysql://localhost:3306/gestion_empleados";
      String usuario = "root";
      String contraseña = "Cesarmilan1996";
      Connection conexion = null;

      try {
         conexion = DriverManager.getConnection(url, usuario, contraseña);
         System.out.println("Conexi\u00f3n exitosa con la base de datos MySQL!");
         conexion.setAutoCommit(false);
         String consultaAgregar = "INSERT INTO empleados (nombre, apellido, edad, puesto) VALUES (?, ?, ?, ?)";
         PreparedStatement pstmt = conexion.prepareStatement(consultaAgregar);
         pstmt.setString(1, "Eduardo");
         pstmt.setString(2, "P\u00e9rez");
         pstmt.setInt(3, 30);
         pstmt.setString(4, "Analista");
         pstmt.executeUpdate();
         pstmt.setString(1, "Marta");
         pstmt.setString(2, "Fern\u00e1ndez");
         pstmt.setInt(3, 25);
         pstmt.setString(4, "Gerente");
         pstmt.executeUpdate();
         String consultaActualizar = "UPDATE empleados SET nombre = ?, edad = ?, puesto = ? WHERE apellido = ?";
         PreparedStatement pstmtActualizar = conexion.prepareStatement(consultaActualizar);
         pstmtActualizar.setString(1, "Laura");
         pstmtActualizar.setInt(2, 28);
         pstmtActualizar.setString(3, "Asistente");
         pstmtActualizar.setString(4, "Fern\u00e1ndez");
         pstmtActualizar.executeUpdate();
         String consultaEmpleados = "SELECT * FROM empleados WHERE puesto = ?";
         PreparedStatement pstmtEmpleados = conexion.prepareStatement(consultaEmpleados);
         pstmtEmpleados.setString(1, "Asistente");
         ResultSet rs = pstmtEmpleados.executeQuery();

         while(rs.next()) {
            PrintStream var10000 = System.out;
            int var10001 = rs.getInt("id");
            var10000.println("ID: " + var10001 + ", Nombre: " + rs.getString("nombre") + ", Apellido: " + rs.getString("apellido") + ", Edad: " + rs.getInt("edad") + ", Puesto: " + rs.getString("puesto"));
         }

         conexion.commit();
         System.out.println("Se agregaron los nuevos empleados, se actualiz\u00f3 un empleado y se consult\u00f3 la informaci\u00f3n de empleados.");
         conexion.close();
      } catch (SQLException var13) {
         System.err.println("Error al conectar a la base de datos: " + var13.getMessage());
         if (conexion != null) {
            try {
               conexion.rollback();
            } catch (SQLException var12) {
               System.err.println("Error al hacer rollback de la transacci\u00f3n: " + var12.getMessage());
            }
         }
      }

   }
}
